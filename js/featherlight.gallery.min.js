(function(n){"use strict";function t(i,r){if(this instanceof t)n.featherlight.apply(this,arguments),this.chainCallbacks(f);else{var u=new t(n.extend({$source:i,$currentTarget:i.first()},r));return u.open(),u}}var i=function(n){window.console&&window.console.warn&&window.console.warn("FeatherlightGallery: "+n)},f;if("undefined"==typeof n)return i("Too much lightness, Featherlight needs jQuery.");if(!n.featherlight)return i("Load the featherlight plugin before the gallery plugin");var u="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,e=n.event&&n.event.special.swipeleft&&n,o=window.Hammer&&function(n){var t=new window.Hammer.Manager(n[0]);return t.add(new window.Hammer.Swipe),t},r=u&&(e||o);u&&!r&&i("No compatible swipe library detected; one must be included before featherlightGallery for swipe motions to navigate the galleries.");f={afterClose:function(n,t){var i=this;return i.$instance.off("next."+i.namespace+" previous."+i.namespace),i._swiper&&(i._swiper.off("swipeleft",i._swipeleft).off("swiperight",i._swiperight),i._swiper=null),n(t)},beforeOpen:function(n,t){var i=this;i.$instance.on("next."+i.namespace+" previous."+i.namespace,function(n){var t=n.type==="next"?1:-1;i.navigateTo(i.currentNavigation()+t)});return r&&(i._swiper=r(i.$instance).on("swipeleft",i._swipeleft=function(){i.$instance.trigger("next")}).on("swiperight",i._swiperight=function(){i.$instance.trigger("previous")}),i.$instance.addClass(this.namespace+"-swipe-aware",r)),i.$instance.find("."+i.namespace+"-content").append(i.createNavigation("previous")).append(i.createNavigation("next")),n(t)},beforeContent:function(n,t){var i=this.currentNavigation(),r=this.slides().length;return this.$instance.toggleClass(this.namespace+"-first-slide",i===0).toggleClass(this.namespace+"-last-slide",i===r-1),n(t)},onKeyUp:function(n,t){var i={37:"previous",39:"next"}[t.keyCode];return i?(this.$instance.trigger(i),!1):n(t)}};n.featherlight.extend(t,{autoBind:"[data-featherlight-gallery]"});n.extend(t.prototype,{previousIcon:"&#9664;",nextIcon:"&#9654;",galleryFadeIn:100,galleryFadeOut:300,slides:function(){return this.filter?this.$source.find(this.filter):this.$source},images:function(){return i("images is deprecated, please use slides instead"),this.slides()},currentNavigation:function(){return this.slides().index(this.$currentTarget)},navigateTo:function(t){var i=this,u=i.slides(),r=u.length,f=i.$instance.find("."+i.namespace+"-inner");return t=(t%r+r)%r,i.$currentTarget=u.eq(t),i.beforeContent(),n.when(i.getContent(),f.fadeTo(i.galleryFadeOut,.2)).always(function(n){i.setContent(n);i.afterContent();n.fadeTo(i.galleryFadeIn,1)})},createNavigation:function(t){var i=this;return n('<span title="'+t+'" class="'+this.namespace+"-"+t+'"><span>'+this[t+"Icon"]+"<\/span><\/span>").click(function(){n(this).trigger(t+"."+i.namespace)})}});n.featherlightGallery=t;n.fn.featherlightGallery=function(n){return t.attach(this,n),this};n(document).ready(function(){t._onReady()})})(jQuery);